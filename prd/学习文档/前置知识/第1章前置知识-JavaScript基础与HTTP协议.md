# ç¬¬1ç« å‰ç½®çŸ¥è¯†ï¼šJavaScriptåŸºç¡€ä¸HTTPåè®®

> **å…¥é—¨å¿…å¤‡åŸºç¡€** - ä¸ºå­¦ä¹ åç«¯æ¶æ„æ€ç»´åšå¥½å‡†å¤‡

## ğŸ“š å‰ç½®çŸ¥è¯†å­¦ä¹ ç›®æ ‡

### ğŸ¯ çŸ¥è¯†ç›®æ ‡
- [ ] **JavaScriptè¯­è¨€åŸºç¡€**ï¼šæŒæ¡ES6+è¯­æ³•ã€å¼‚æ­¥ç¼–ç¨‹ã€é¢å‘å¯¹è±¡åŸºç¡€
- [ ] **HTTPåè®®åŸºç¡€**ï¼šç†è§£HTTPè¯·æ±‚å“åº”æœºåˆ¶ã€çŠ¶æ€ç ã€è¯·æ±‚æ–¹æ³•
- [ ] **Webå¼€å‘æ¦‚å¿µ**ï¼šäº†è§£å®¢æˆ·ç«¯-æœåŠ¡å™¨æ¶æ„ã€APIæ¦‚å¿µ
- [ ] **å¼€å‘å·¥å…·ä½¿ç”¨**ï¼šç†Ÿæ‚‰æµè§ˆå™¨å¼€å‘è€…å·¥å…·ã€åŸºç¡€è°ƒè¯•æŠ€èƒ½

### ğŸ› ï¸ æŠ€èƒ½ç›®æ ‡
- [ ] èƒ½å¤Ÿç¼–å†™åŸºç¡€çš„JavaScriptç¨‹åº
- [ ] èƒ½å¤Ÿç†è§£HTTPè¯·æ±‚å’Œå“åº”çš„åŸºæœ¬æµç¨‹
- [ ] èƒ½å¤Ÿä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·è¿›è¡ŒåŸºç¡€è°ƒè¯•
- [ ] å…·å¤‡åŸºæœ¬çš„Webå¼€å‘æ¦‚å¿µè®¤çŸ¥

### â° å­¦ä¹ æ—¶é•¿
- **JavaScriptåŸºç¡€**ï¼š6-8å°æ—¶
- **HTTPåè®®**ï¼š3-4å°æ—¶
- **å®è·µç»ƒä¹ **ï¼š4-6å°æ—¶
- **æ€»è®¡æ—¶é•¿**ï¼š13-18å°æ—¶

---

## 1.1 JavaScriptè¯­è¨€åŸºç¡€

### ğŸ’¡ æ ¸å¿ƒæ€æƒ³ï¼šJavaScriptæ˜¯Webçš„é€šç”¨è¯­è¨€

> **é€šä¿—ç†è§£**ï¼šå¦‚æœæŠŠç½‘é¡µæ¯”ä½œä¸€ä¸ªæˆ¿å­ï¼ŒHTMLæ˜¯æˆ¿å­çš„ç»“æ„ï¼ˆå¢™å£ã€é—¨çª—ï¼‰ï¼ŒCSSæ˜¯è£…ä¿®é£æ ¼ï¼ˆé¢œè‰²ã€å¸ƒå±€ï¼‰ï¼Œé‚£ä¹ˆJavaScriptå°±æ˜¯æˆ¿å­é‡Œçš„ç”µå™¨å’Œæ™ºèƒ½ç³»ç»Ÿï¼Œè®©æˆ¿å­"æ´»"èµ·æ¥ï¼Œèƒ½å¤Ÿå“åº”ç”¨æˆ·çš„æ“ä½œã€‚

### ğŸŒ ç°å®åº”ç”¨åœºæ™¯

1. **ç”µå•†å¹³å°**ï¼šæ·˜å®ã€äº¬ä¸œçš„è´­ç‰©è½¦åŠŸèƒ½
   - ç‚¹å‡»"åŠ å…¥è´­ç‰©è½¦"æŒ‰é’®
   - å®æ—¶æ›´æ–°å•†å“æ•°é‡å’Œæ€»ä»·
   - åŠ¨æ€æ˜¾ç¤ºä¼˜æƒ åˆ¸å’ŒæŠ˜æ‰£

2. **ç¤¾äº¤åª’ä½“**ï¼šå¾®åšã€æœ‹å‹åœˆçš„äº’åŠ¨åŠŸèƒ½
   - ç‚¹èµã€è¯„è®ºã€è½¬å‘çš„å³æ—¶åé¦ˆ
   - æ— é™æ»šåŠ¨åŠ è½½æ–°å†…å®¹
   - å®æ—¶æ¶ˆæ¯é€šçŸ¥

3. **åœ¨çº¿åŠå…¬**ï¼šè…¾è®¯æ–‡æ¡£ã€çŸ³å¢¨æ–‡æ¡£çš„åä½œç¼–è¾‘
   - å¤šäººåŒæ—¶ç¼–è¾‘æ–‡æ¡£
   - å®æ—¶åŒæ­¥ä¿®æ”¹å†…å®¹
   - è‡ªåŠ¨ä¿å­˜å’Œç‰ˆæœ¬æ§åˆ¶

### 1.1.1 åŸºæœ¬è¯­æ³•å’Œæ•°æ®ç±»å‹

#### ğŸ”¤ å˜é‡å£°æ˜ï¼šç¨‹åºçš„"è®°å¿†ç³»ç»Ÿ"

> **ç”Ÿæ´»ç±»æ¯”**ï¼šå˜é‡å°±åƒæ˜¯è´´äº†æ ‡ç­¾çš„ç›’å­ï¼Œä½ å¯ä»¥å¾€ç›’å­é‡Œæ”¾ä¸œè¥¿ï¼ˆèµ‹å€¼ï¼‰ï¼Œä¹Ÿå¯ä»¥ä»ç›’å­é‡Œå–ä¸œè¥¿ï¼ˆä½¿ç”¨ï¼‰ã€‚

```javascript
// ğŸ¯ æ€æƒ³è§£è¯»ï¼šä¸ºä»€ä¹ˆè¦æœ‰ä¸åŒçš„å£°æ˜æ–¹å¼ï¼Ÿ
// varï¼šè€å¼çš„"å…¬å…±å‚¨ç‰©æŸœ"ï¼Œä»»ä½•äººéƒ½èƒ½è®¿é—®å’Œä¿®æ”¹
// letï¼šç°ä»£çš„"ç§äººå‚¨ç‰©æŸœ"ï¼Œåªæœ‰åœ¨ç‰¹å®šåŒºåŸŸæ‰èƒ½ä½¿ç”¨
// constï¼šæ°¸ä¹…çš„"ä¿é™©ç®±"ï¼Œä¸€æ—¦å­˜å…¥å°±ä¸èƒ½æ›´æ”¹

// âŒ å¸¸è§é”™è¯¯ï¼šä½¿ç”¨varå¯¼è‡´çš„ä½œç”¨åŸŸæ··ä¹±
var globalVar = "æˆ‘æ˜¯å…¨å±€å˜é‡";
function badExample() {
  if (true) {
    var localVar = "æˆ‘ä»¥ä¸ºæ˜¯å±€éƒ¨å˜é‡";
  }
  console.log(localVar); // ç«Ÿç„¶èƒ½è®¿é—®åˆ°ï¼è¿™å°±æ˜¯varçš„é—®é¢˜
}

// âœ… æ­£ç¡®åšæ³•ï¼šä½¿ç”¨letå’Œconst
let modernWay = "æ¨èä½¿ç”¨"; // å¯ä»¥ä¿®æ”¹çš„å˜é‡
const constant = "å¸¸é‡";    // ä¸å¯ä¿®æ”¹çš„å¸¸é‡

// ğŸ§  è®°å¿†å£è¯€ï¼š
// "letè®©å˜é‡æœ‰è¾¹ç•Œï¼Œconstå¸¸é‡ä¸å¯æ”¹ï¼Œvarå˜é‡åˆ°å¤„è·‘ï¼Œç°ä»£å¼€å‘è¦é¿å¼€"
```

#### ğŸ“¦ æ•°æ®ç±»å‹ï¼šç¨‹åºä¸–ç•Œçš„"ç‰©è´¨åˆ†ç±»"

```javascript
// ğŸ¯ æ€æƒ³è§£è¯»ï¼šä¸ºä»€ä¹ˆè¦æœ‰æ•°æ®ç±»å‹ï¼Ÿ
// å°±åƒç°å®ä¸–ç•Œä¸­ï¼Œæˆ‘ä»¬éœ€è¦åŒºåˆ†è‹¹æœã€æ±½è½¦ã€éŸ³ä¹ä¸€æ ·
// è®¡ç®—æœºä¹Ÿéœ€è¦çŸ¥é“æ•°æ®æ˜¯ä»€ä¹ˆç±»å‹ï¼Œæ‰èƒ½æ­£ç¡®å¤„ç†

// åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆåŸå§‹ç±»å‹ï¼‰- åƒæ˜¯"åŸå­"ï¼Œä¸å¯å†åˆ†
let name = "å¼ ä¸‰";              // å­—ç¬¦ä¸²ï¼šæ–‡å­—ä¿¡æ¯
let age = 25;                  // æ•°å­—ï¼šæ•°å€¼è®¡ç®—
let isStudent = true;          // å¸ƒå°”å€¼ï¼šæ˜¯éåˆ¤æ–­
let nothing = null;            // ç©ºå€¼ï¼šæ•…æ„ä¸ºç©º
let notDefined = undefined;    // æœªå®šä¹‰ï¼šå¿˜è®°èµ‹å€¼

// ğŸŒŸ ç°å®åº”ç”¨åœºæ™¯ï¼š
// 1. ç”µå•†ç³»ç»Ÿï¼šå•†å“åç§°(string)ã€ä»·æ ¼(number)ã€æ˜¯å¦æœ‰åº“å­˜(boolean)
// 2. ç”¨æˆ·ç³»ç»Ÿï¼šç”¨æˆ·å(string)ã€å¹´é¾„(number)ã€æ˜¯å¦VIP(boolean)
// 3. æ¸¸æˆç³»ç»Ÿï¼šè§’è‰²å(string)ã€è¡€é‡(number)ã€æ˜¯å¦å­˜æ´»(boolean)

// å¤åˆæ•°æ®ç±»å‹ - åƒæ˜¯"åˆ†å­"ï¼Œç”±å¤šä¸ªåŸå­ç»„æˆ
let fruits = ["è‹¹æœ", "é¦™è•‰", "æ©™å­"]; // æ•°ç»„ï¼šæœ‰åºçš„åˆ—è¡¨
let person = {                         // å¯¹è±¡ï¼šå±æ€§çš„é›†åˆ
  name: "æå››",
  age: 30,
  city: "åŒ—äº¬"
};

// ğŸ§  è®°å¿†æŠ€å·§ï¼š
// "å­—ç¬¦ä¸²å­˜æ–‡å­—ï¼Œæ•°å­—åšè®¡ç®—ï¼Œå¸ƒå°”åˆ¤çœŸå‡ï¼Œæ•°ç»„è£…åˆ—è¡¨ï¼Œå¯¹è±¡å­˜å±æ€§"

// âš ï¸ å¸¸è§é”™è¯¯é¢„è­¦ï¼š
console.log(typeof null);        // "object" - è¿™æ˜¯JavaScriptçš„å†å²bugï¼
console.log(typeof undefined);   // "undefined" - è¿™æ‰æ˜¯æ­£ç¡®çš„
console.log(typeof []);          // "object" - æ•°ç»„ä¹Ÿè¢«è®¤ä¸ºæ˜¯å¯¹è±¡
console.log(typeof {});          // "object" - çº¯å¯¹è±¡
```

#### ğŸ”§ å‡½æ•°ï¼šç¨‹åºçš„"å·¥å…·ç®±"

> **ç”Ÿæ´»ç±»æ¯”**ï¼šå‡½æ•°å°±åƒæ˜¯ä¸€ä¸ªä¸“é—¨çš„å·¥å…·æˆ–æœºå™¨ã€‚ä½ ç»™å®ƒåŸææ–™ï¼ˆå‚æ•°ï¼‰ï¼Œå®ƒæŒ‰ç…§å›ºå®šçš„æµç¨‹å¤„ç†ï¼Œç„¶åç»™ä½ æˆå“ï¼ˆè¿”å›å€¼ï¼‰ã€‚

```javascript
// ğŸ¯ æ€æƒ³è§£è¯»ï¼šå‡½æ•°çš„ä¸‰å¤§ä½œç”¨
// 1. ä»£ç å¤ç”¨ï¼šå†™ä¸€æ¬¡ï¼Œç”¨å¤šæ¬¡
// 2. é€»è¾‘å°è£…ï¼šæŠŠå¤æ‚çš„æ“ä½œåŒ…è£…æˆç®€å•çš„è°ƒç”¨
// 3. æ¨¡å—åŒ–ï¼šæŠŠå¤§é—®é¢˜åˆ†è§£æˆå°é—®é¢˜

// ğŸŒŸ ç°å®åº”ç”¨åœºæ™¯å¯¹æ¯”ï¼š

// 1. é¤å…åœºæ™¯ï¼šç‚¹é¤ç³»ç»Ÿ
function orderFood(dishName, quantity = 1) {
  console.log(`æ‚¨ç‚¹äº† ${quantity} ä»½ ${dishName}`);
  const price = calculatePrice(dishName, quantity);
  return `æ€»ä»·ï¼š${price}å…ƒ`;
}

// 2. é“¶è¡Œåœºæ™¯ï¼šè½¬è´¦ç³»ç»Ÿ
function transferMoney(fromAccount, toAccount, amount) {
  if (amount <= 0) {
    return "è½¬è´¦é‡‘é¢å¿…é¡»å¤§äº0";
  }
  console.log(`ä»è´¦æˆ· ${fromAccount} å‘è´¦æˆ· ${toAccount} è½¬è´¦ ${amount} å…ƒ`);
  return "è½¬è´¦æˆåŠŸ";
}

// 3. æ•™è‚²åœºæ™¯ï¼šæˆç»©è®¡ç®—
function calculateGrade(scores) {
  const average = scores.reduce((sum, score) => sum + score, 0) / scores.length;
  if (average >= 90) return "ä¼˜ç§€";
  if (average >= 80) return "è‰¯å¥½";
  if (average >= 70) return "ä¸­ç­‰";
  if (average >= 60) return "åŠæ ¼";
  return "ä¸åŠæ ¼";
}

// ğŸ§  è®°å¿†å£è¯€ï¼š
// "å‡½æ•°åƒå·¥å‚ï¼Œå‚æ•°æ˜¯åŸæ–™ï¼Œå¤„ç†æœ‰æµç¨‹ï¼Œè¿”å›æ˜¯äº§å“"

// âš ï¸ å¸¸è§é”™è¯¯é¢„è­¦ï¼š
// é”™è¯¯1ï¼šå¿˜è®°returnè¯­å¥
function badAdd(a, b) {
  a + b; // æ²¡æœ‰returnï¼Œå‡½æ•°è¿”å›undefined
}

// é”™è¯¯2ï¼šå‚æ•°ç±»å‹ä¸åŒ¹é…
function goodAdd(a, b) {
  if (typeof a !== 'number' || typeof b !== 'number') {
    throw new Error('å‚æ•°å¿…é¡»æ˜¯æ•°å­—');
  }
  return a + b;
}

// é”™è¯¯3ï¼šå‡½æ•°åä¸å¤Ÿæè¿°æ€§
function calc(x, y) { return x + y; } // âŒ ä¸æ¸…æ¥šåšä»€ä¹ˆ
function addTwoNumbers(x, y) { return x + y; } // âœ… æ¸…æ¥šæ˜äº†
```

### 1.1.2 ES6+æ–°ç‰¹æ€§ï¼šç°ä»£JavaScriptçš„"å‡çº§åŒ…"

#### ğŸš€ æ¨¡æ¿å­—ç¬¦ä¸²ï¼šå‘Šåˆ«å­—ç¬¦ä¸²æ‹¼æ¥çš„ç—›è‹¦

> **æ€æƒ³è½¬å˜**ï¼šä»"æ‹¼ç§¯æœ¨"å¼çš„å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå‡çº§åˆ°"å¡«ç©ºé¢˜"å¼çš„æ¨¡æ¿å­—ç¬¦ä¸²

```javascript
// ğŸ¯ å¯¹æ¯”ï¼šæ—§æ–¹å¼ vs æ–°æ–¹å¼

// âŒ æ—§æ–¹å¼ï¼šåƒæ‹¼å›¾ä¸€æ ·éº»çƒ¦
const oldWay = "ç”¨æˆ·" + name + "ä»Šå¹´" + age + "å²ï¼Œæ¥è‡ª" + city;

// âœ… æ–°æ–¹å¼ï¼šåƒå¡«ç©ºé¢˜ä¸€æ ·ç®€å•
const newWay = `ç”¨æˆ·${name}ä»Šå¹´${age}å²ï¼Œæ¥è‡ª${city}`;

// ğŸŒŸ ç°å®åº”ç”¨åœºæ™¯ï¼š

// 1. é‚®ä»¶æ¨¡æ¿ç³»ç»Ÿ
function generateEmailTemplate(userName, productName, price) {
  return `
    äº²çˆ±çš„${userName}ï¼Œ
    
    æ‚¨è´­ä¹°çš„å•†å“"${productName}"å·²ç¡®è®¤ï¼Œ
    è®¢å•é‡‘é¢ï¼šï¿¥${price}
    
    æ„Ÿè°¢æ‚¨çš„è´­ä¹°ï¼
  `;
}

// 2. SQLæŸ¥è¯¢æ„å»º
function buildQuery(tableName, conditions) {
  return `
    SELECT * FROM ${tableName} 
    WHERE ${conditions.map(c => `${c.field} = '${c.value}'`).join(' AND ')}
  `;
}

// 3. HTMLæ¨¡æ¿ç”Ÿæˆ
function createUserCard(user) {
  return `
    <div class="user-card">
      <h3>${user.name}</h3>
      <p>å¹´é¾„ï¼š${user.age}</p>
      <p>é‚®ç®±ï¼š${user.email}</p>
    </div>
  `;
}

// ğŸ§  è®°å¿†æŠ€å·§ï¼š
// "åå¼•å·åŒ…å­—ç¬¦ä¸²ï¼Œç¾å…ƒèŠ±æ‹¬å·åµŒå˜é‡ï¼Œå¤šè¡Œæ–‡æœ¬æ›´æ¸…æ™°"
```

#### ğŸ”„ è§£æ„èµ‹å€¼ï¼šæ•°æ®æå–çš„"é­”æ³•"

> **ç”Ÿæ´»ç±»æ¯”**ï¼šè§£æ„èµ‹å€¼å°±åƒæ˜¯ä»å¿«é€’åŒ…è£¹ä¸­å–å‡ºä½ éœ€è¦çš„ç‰©å“ï¼Œä¸ç”¨æŠŠæ•´ä¸ªåŒ…è£¹éƒ½æ¬å›å®¶ã€‚

```javascript
// ğŸ¯ æ€æƒ³è§£è¯»ï¼šè§£æ„èµ‹å€¼è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ
// é—®é¢˜ï¼šä»å¤æ‚çš„æ•°æ®ç»“æ„ä¸­æå–éœ€è¦çš„éƒ¨åˆ†å¾ˆéº»çƒ¦
// è§£å†³ï¼šä¸€è¡Œä»£ç å°±èƒ½æå–å¤šä¸ªå€¼

// ğŸŒŸ ç°å®åº”ç”¨åœºæ™¯ï¼š

// 1. APIå“åº”æ•°æ®å¤„ç†
const apiResponse = {
  status: 200,
  data: {
    user: { name: "å¼ ä¸‰", age: 25, email: "zhangsan@example.com" },
    permissions: ["read", "write"]
  },
  message: "success"
};

// âŒ ä¼ ç»Ÿæ–¹å¼ï¼šä¸€ä¸ªä¸€ä¸ªå–
const status = apiResponse.status;
const userName = apiResponse.data.user.name;
const userAge = apiResponse.data.user.age;

// âœ… è§£æ„æ–¹å¼ï¼šä¸€æ¬¡æ€§æå–
const { status, data: { user: { name, age } }, message } = apiResponse;

// 2. å‡½æ•°å‚æ•°è§£æ„ï¼šé…ç½®å¯¹è±¡
function createUser({ name, age, email, role = "user" }) {
  console.log(`åˆ›å»ºç”¨æˆ·ï¼š${name}ï¼Œè§’è‰²ï¼š${role}`);
}

createUser({ name: "æå››", age: 30, email: "lisi@example.com" });

// 3. æ•°ç»„è§£æ„ï¼šåæ ‡å¤„ç†
const coordinates = [120.123, 30.456];
const [longitude, latitude] = coordinates;
console.log(`ç»åº¦ï¼š${longitude}ï¼Œçº¬åº¦ï¼š${latitude}`);

// ğŸ§  è®°å¿†å£è¯€ï¼š
// "èŠ±æ‹¬å·è§£å¯¹è±¡ï¼Œæ–¹æ‹¬å·è§£æ•°ç»„ï¼Œå†’å·æ”¹åå­—ï¼Œç­‰å·è®¾é»˜è®¤"

// âš ï¸ å¸¸è§é”™è¯¯é¢„è­¦ï¼š
// é”™è¯¯1ï¼šè§£æ„ä¸å­˜åœ¨çš„å±æ€§
const { nonExistent } = {}; // undefinedï¼Œä¸ä¼šæŠ¥é”™ä½†è¦å°å¿ƒ

// é”™è¯¯2ï¼šè§£æ„nullæˆ–undefined
// const { prop } = null; // æŠ¥é”™ï¼TypeError

// æ­£ç¡®åšæ³•ï¼šæä¾›é»˜è®¤å€¼
const { prop } = someObject || {};
```

### 1.1.3 å¼‚æ­¥ç¼–ç¨‹ï¼šå¤„ç†"ç­‰å¾…"çš„è‰ºæœ¯

> **æ ¸å¿ƒæ€æƒ³**ï¼šå¼‚æ­¥ç¼–ç¨‹å°±åƒæ˜¯åœ¨é¤å…ç‚¹é¤ï¼Œä½ ä¸éœ€è¦ç«™åœ¨å¨æˆ¿é—¨å£ç­‰èœåšå¥½ï¼Œè€Œæ˜¯å¯ä»¥åä¸‹æ¥èŠå¤©ï¼Œèœå¥½äº†æœåŠ¡å‘˜ä¼šé€šçŸ¥ä½ ã€‚

#### â° Promiseï¼šå¼‚æ­¥æ“ä½œçš„"æ‰¿è¯ºä¹¦"

```javascript
// ğŸ¯ æ€æƒ³è§£è¯»ï¼šä¸ºä»€ä¹ˆéœ€è¦Promiseï¼Ÿ
// é—®é¢˜ï¼šå›è°ƒåœ°ç‹± - å¼‚æ­¥æ“ä½œåµŒå¥—å¤ªæ·±ï¼Œä»£ç éš¾ä»¥ç»´æŠ¤
// è§£å†³ï¼šPromiseé“¾å¼è°ƒç”¨ - è®©å¼‚æ­¥ä»£ç çœ‹èµ·æ¥åƒåŒæ­¥ä»£ç 

// ğŸŒŸ ç°å®åº”ç”¨åœºæ™¯å¯¹æ¯”ï¼š

// 1. åœ¨çº¿è´­ç‰©æµç¨‹
function onlineShopping() {
  // ä¼ ç»Ÿå›è°ƒæ–¹å¼ï¼ˆå›è°ƒåœ°ç‹±ï¼‰
  checkInventory(productId, function(available) {
    if (available) {
      processPayment(paymentInfo, function(paymentResult) {
        if (paymentResult.success) {
          shipProduct(orderInfo, function(shipmentInfo) {
            console.log("è®¢å•å®Œæˆ");
          });
        }
      });
    }
  });
  
  // Promiseæ–¹å¼ï¼ˆé“¾å¼è°ƒç”¨ï¼‰
  checkInventory(productId)
    .then(available => {
      if (!available) throw new Error("åº“å­˜ä¸è¶³");
      return processPayment(paymentInfo);
    })
    .then(paymentResult => {
      if (!paymentResult.success) throw new Error("æ”¯ä»˜å¤±è´¥");
      return shipProduct(orderInfo);
    })
    .then(shipmentInfo => {
      console.log("è®¢å•å®Œæˆ", shipmentInfo);
    })
    .catch(error => {
      console.error("è®¢å•å¤±è´¥ï¼š", error.message);
    });
}

// 2. ç”¨æˆ·æ³¨å†Œæµç¨‹
function userRegistration(userData) {
  return validateUserData(userData)
    .then(validData => saveToDatabase(validData))
    .then(savedUser => sendWelcomeEmail(savedUser.email))
    .then(() => console.log("æ³¨å†ŒæˆåŠŸ"))
    .catch(error => console.error("æ³¨å†Œå¤±è´¥ï¼š", error.message));
}

// 3. æ–‡ä»¶ä¸Šä¼ æµç¨‹
function uploadFile(file) {
  return compressFile(file)
    .then(compressedFile => uploadToServer(compressedFile))
    .then(uploadResult => updateDatabase(uploadResult))
    .then(result => console.log("ä¸Šä¼ å®Œæˆ", result))
    .catch(error => console.error("ä¸Šä¼ å¤±è´¥ï¼š", error.message));
}

// ğŸ§  è®°å¿†æŠ€å·§ï¼š
// "Promiseæ˜¯æ‰¿è¯ºï¼Œthenæ˜¯æˆåŠŸï¼Œcatchæ˜¯å¤±è´¥ï¼Œé“¾å¼è°ƒç”¨ä¸åµŒå¥—"
```

#### ğŸ­ async/awaitï¼šè®©å¼‚æ­¥ä»£ç "çœ‹èµ·æ¥"åŒæ­¥

```javascript
// ğŸ¯ æ€æƒ³è½¬å˜ï¼šä»"å›è°ƒæ€ç»´"åˆ°"åŒæ­¥æ€ç»´"
// async/awaitè®©å¼‚æ­¥ä»£ç è¯»èµ·æ¥åƒåŒæ­¥ä»£ç ï¼Œé™ä½å¿ƒç†è´Ÿæ‹…

// ğŸŒŸ ç°å®åº”ç”¨åœºæ™¯ï¼š

// 1. æ•°æ®è·å–å’Œå¤„ç†
async function getUserProfile(userId) {
  try {
    console.log("å¼€å§‹è·å–ç”¨æˆ·ä¿¡æ¯...");
    
    // è·å–åŸºæœ¬ä¿¡æ¯
    const userInfo = await fetchUserInfo(userId);
    console.log("ç”¨æˆ·åŸºæœ¬ä¿¡æ¯è·å–æˆåŠŸ");
    
    // è·å–ç”¨æˆ·æƒé™
    const permissions = await fetchUserPermissions(userId);
    console.log("ç”¨æˆ·æƒé™è·å–æˆåŠŸ");
    
    // è·å–ç”¨æˆ·è®¾ç½®
    const settings = await fetchUserSettings(userId);
    console.log("ç”¨æˆ·è®¾ç½®è·å–æˆåŠŸ");
    
    // ç»„åˆæ•°æ®
    const profile = {
      ...userInfo,
      permissions,
      settings
    };
    
    console.log("ç”¨æˆ·æ¡£æ¡ˆæ„å»ºå®Œæˆ");
    return profile;
    
  } catch (error) {
    console.error("è·å–ç”¨æˆ·æ¡£æ¡ˆå¤±è´¥ï¼š", error.message);
    throw error;
  }
}

// 2. æ‰¹é‡æ•°æ®å¤„ç†
async function processBatchData(dataList) {
  const results = [];
  
  for (const data of dataList) {
    try {
      console.log(`å¤„ç†æ•°æ®ï¼š${data.id}`);
      
      // éªŒè¯æ•°æ®
      await validateData(data);
      
      // å¤„ç†æ•°æ®
      const processedData = await processData(data);
      
      // ä¿å­˜ç»“æœ
      const savedResult = await saveData(processedData);
      
      results.push(savedResult);
      console.log(`æ•°æ® ${data.id} å¤„ç†å®Œæˆ`);
      
    } catch (error) {
      console.error(`æ•°æ® ${data.id} å¤„ç†å¤±è´¥ï¼š`, error.message);
      // ç»§ç»­å¤„ç†ä¸‹ä¸€ä¸ªæ•°æ®
    }
  }
  
  return results;
}

// 3. é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
async function fetchWithRetry(url, maxRetries = 3) {
  for (let attempt = 1; attempt <= maxRetries; attempt++) {
    try {
      console.log(`ç¬¬ ${attempt} æ¬¡å°è¯•è·å–æ•°æ®...`);
      
      const response = await fetch(url);
      
      if (!response.ok) {
        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
      }
      
      const data = await response.json();
      console.log("æ•°æ®è·å–æˆåŠŸ");
      return data;
      
    } catch (error) {
      console.error(`ç¬¬ ${attempt} æ¬¡å°è¯•å¤±è´¥ï¼š`, error.message);
      
      if (attempt === maxRetries) {
        throw new Error(`ç»è¿‡ ${maxRetries} æ¬¡å°è¯•åä»ç„¶å¤±è´¥`);
      }
      
      // ç­‰å¾…ä¸€æ®µæ—¶é—´åé‡è¯•
      await new Promise(resolve => setTimeout(resolve, 1000 * attempt));
    }
  }
}

// ğŸ§  è®°å¿†å£è¯€ï¼š
// "asyncæ ‡è®°å‡½æ•°ï¼Œawaitç­‰å¾…ç»“æœï¼ŒtryåŒ…æˆåŠŸï¼ŒcatchæŠ“é”™è¯¯"

// âš ï¸ å¸¸è§é”™è¯¯é¢„è­¦ï¼š
// é”™è¯¯1ï¼šå¿˜è®°awaitå…³é”®å­—
async function badExample() {
  const result = fetchData(); // è¿”å›Promiseå¯¹è±¡ï¼Œä¸æ˜¯å®é™…æ•°æ®
  console.log(result); // [object Promise]
}

// é”™è¯¯2ï¼šåœ¨éasyncå‡½æ•°ä¸­ä½¿ç”¨await
function anotherBadExample() {
  // const result = await fetchData(); // è¯­æ³•é”™è¯¯
}

// é”™è¯¯3ï¼šæ²¡æœ‰é”™è¯¯å¤„ç†
async function riskyExample() {
  const data = await fetchData(); // å¦‚æœå¤±è´¥ï¼Œæ•´ä¸ªç¨‹åºå¯èƒ½å´©æºƒ
  return data;
}
```

---

## 1.2 HTTPåè®®åŸºç¡€

### ğŸ’¡ æ ¸å¿ƒæ€æƒ³ï¼šHTTPæ˜¯Webä¸–ç•Œçš„"é€šç”¨è¯­è¨€"

> **é€šä¿—ç†è§£**ï¼šHTTPåè®®å°±åƒæ˜¯é‚®æ”¿ç³»ç»Ÿçš„è§„åˆ™ã€‚æ— è®ºä½ å¯„ä»€ä¹ˆä¸œè¥¿ï¼Œéƒ½è¦æŒ‰ç…§ç»Ÿä¸€çš„æ ¼å¼å†™åœ°å€ã€è´´é‚®ç¥¨ã€é€‰æ‹©é‚®å¯„æ–¹å¼ã€‚HTTPä¹Ÿæ˜¯è¿™æ ·ï¼Œè§„å®šäº†å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å¦‚ä½•"å†™ä¿¡"å’Œ"å›ä¿¡"ã€‚

### ğŸŒ ç°å®åº”ç”¨åœºæ™¯

1. **åœ¨çº¿è´­ç‰©**ï¼šæ·˜å®ã€äº¬ä¸œçš„å•†å“æµè§ˆå’Œè´­ä¹°
   - æµè§ˆå•†å“åˆ—è¡¨ï¼ˆGETè¯·æ±‚ï¼‰
   - æœç´¢å•†å“ï¼ˆGETè¯·æ±‚å¸¦å‚æ•°ï¼‰
   - æ·»åŠ åˆ°è´­ç‰©è½¦ï¼ˆPOSTè¯·æ±‚ï¼‰
   - æäº¤è®¢å•ï¼ˆPOSTè¯·æ±‚ï¼‰

2. **ç¤¾äº¤åª’ä½“**ï¼šå¾®ä¿¡ã€å¾®åšçš„å†…å®¹å‘å¸ƒå’Œäº’åŠ¨
   - æŸ¥çœ‹æœ‹å‹åœˆï¼ˆGETè¯·æ±‚ï¼‰
   - å‘å¸ƒåŠ¨æ€ï¼ˆPOSTè¯·æ±‚ï¼‰
   - ç‚¹èµè¯„è®ºï¼ˆPUT/PATCHè¯·æ±‚ï¼‰
   - åˆ é™¤å†…å®¹ï¼ˆDELETEè¯·æ±‚ï¼‰

3. **åœ¨çº¿æ•™è‚²**ï¼šç½‘æ˜“äº‘è¯¾å ‚ã€è…¾è®¯è¯¾å ‚çš„å­¦ä¹ ç³»ç»Ÿ
   - è·å–è¯¾ç¨‹åˆ—è¡¨ï¼ˆGETè¯·æ±‚ï¼‰
   - æäº¤ä½œä¸šï¼ˆPOSTè¯·æ±‚ï¼‰
   - æ›´æ–°å­¦ä¹ è¿›åº¦ï¼ˆPUTè¯·æ±‚ï¼‰
   - ä¸‹è½½è¯¾ä»¶ï¼ˆGETè¯·æ±‚ï¼‰

### 1.2.1 HTTPåè®®æ¦‚è¿°

#### ğŸŒ HTTPï¼šWebä¸–ç•Œçš„"é‚®æ”¿ç³»ç»Ÿ"

```mermaid
sequenceDiagram
    participant ç”¨æˆ· as ğŸ‘¤ ç”¨æˆ·
    participant æµè§ˆå™¨ as ğŸŒ æµè§ˆå™¨
    participant æœåŠ¡å™¨ as ğŸ–¥ï¸ æœåŠ¡å™¨
    participant æ•°æ®åº“ as ğŸ—„ï¸ æ•°æ®åº“
    
    ç”¨æˆ·->>æµè§ˆå™¨: ç‚¹å‡»"æŸ¥çœ‹å•†å“"
    æµè§ˆå™¨->>æœåŠ¡å™¨: GET /api/products/123
    æœåŠ¡å™¨->>æ•°æ®åº“: æŸ¥è¯¢å•†å“ä¿¡æ¯
    æ•°æ®åº“->>æœåŠ¡å™¨: è¿”å›å•†å“æ•°æ®
    æœåŠ¡å™¨->>æµè§ˆå™¨: 200 OK + å•†å“JSON
    æµè§ˆå™¨->>ç”¨æˆ·: æ˜¾ç¤ºå•†å“é¡µé¢
```

> **æ€æƒ³è§£è¯»**ï¼šHTTPè¯·æ±‚å°±åƒå¯„å¿«é€’ï¼Œä½ éœ€è¦å‘Šè¯‰å¿«é€’å‘˜ï¼š
> - **å»å“ªé‡Œ**ï¼ˆURLåœ°å€ï¼‰
> - **åšä»€ä¹ˆ**ï¼ˆHTTPæ–¹æ³•ï¼‰
> - **å¸¦ä»€ä¹ˆ**ï¼ˆè¯·æ±‚æ•°æ®ï¼‰
> - **æ€ä¹ˆè”ç³»ä½ **ï¼ˆè¯·æ±‚å¤´ä¿¡æ¯ï¼‰

```javascript
// ğŸ¯ HTTPè¯·æ±‚çš„ç»„æˆéƒ¨åˆ†è§£æ

// 1. è¯·æ±‚è¡Œï¼šå‘Šè¯‰æœåŠ¡å™¨"æˆ‘è¦åšä»€ä¹ˆ"
// GET /api/users?page=1&limit=10 HTTP/1.1
// â†‘     â†‘                        â†‘
// æ–¹æ³•   URLè·¯å¾„å’Œå‚æ•°              åè®®ç‰ˆæœ¬

// 2. è¯·æ±‚å¤´ï¼šå‘Šè¯‰æœåŠ¡å™¨"æˆ‘çš„èº«ä»½å’Œéœ€æ±‚"
const headers = {
  'Host': 'api.example.com',           // ç›®æ ‡æœåŠ¡å™¨
  'User-Agent': 'Mozilla/5.0...',      // æµè§ˆå™¨ä¿¡æ¯
  'Accept': 'application/json',        // æœŸæœ›çš„å“åº”æ ¼å¼
  'Authorization': 'Bearer token123',  // èº«ä»½éªŒè¯
  'Content-Type': 'application/json'   // å‘é€æ•°æ®çš„æ ¼å¼
};

// 3. è¯·æ±‚ä½“ï¼šå‘Šè¯‰æœåŠ¡å™¨"æˆ‘è¦å‘é€çš„æ•°æ®"
const requestBody = {
  name: "å¼ ä¸‰",
  email: "zhangsan@example.com",
  age: 25
};

// ğŸŒŸ ç°å®ç±»æ¯”ï¼šHTTPè¯·æ±‚åƒå¡«å†™å¿«é€’å•
// - æ”¶ä»¶äººåœ°å€ = URL
// - å¿«é€’ç±»å‹ = HTTPæ–¹æ³•ï¼ˆæ™®é€š/åŠ æ€¥/åˆ°ä»˜ç­‰ï¼‰
// - å¯„ä»¶äººä¿¡æ¯ = è¯·æ±‚å¤´
// - åŒ…è£¹å†…å®¹ = è¯·æ±‚ä½“
```

### 1.2.2 HTTPè¯·æ±‚æ–¹æ³•ï¼šä¸åŒçš„"åŠäº‹æ–¹å¼"

#### ğŸ¯ HTTPæ–¹æ³•ï¼šå‘Šè¯‰æœåŠ¡å™¨ä½ æƒ³åšä»€ä¹ˆ

> **ç”Ÿæ´»ç±»æ¯”**ï¼šHTTPæ–¹æ³•å°±åƒå»é“¶è¡ŒåŠä¸åŒçš„ä¸šåŠ¡ï¼Œæ¯ç§ä¸šåŠ¡æœ‰ä¸åŒçš„æµç¨‹å’Œè¦æ±‚ã€‚

```javascript
// ğŸŒŸ ç°å®åº”ç”¨åœºæ™¯è¯¦è§£ï¼š

// 1. å›¾ä¹¦ç®¡ç†ç³»ç»Ÿ
class LibraryAPI {
  // GETï¼šæŸ¥è¯¢å›¾ä¹¦ï¼ˆåƒå»å›¾ä¹¦é¦†æŸ¥ä¹¦ç›®ï¼‰
  async getBooks(category) {
    const response = await fetch(`/api/books?category=${category}`);
    // ç‰¹ç‚¹ï¼šåªæŸ¥è¯¢ï¼Œä¸ä¿®æ”¹ä»»ä½•æ•°æ®
    // å¯ä»¥é‡å¤æ‰§è¡Œï¼Œç»“æœç›¸åŒï¼ˆå¹‚ç­‰æ€§ï¼‰
    return response.json();
  }
  
  // POSTï¼šæ·»åŠ æ–°å›¾ä¹¦ï¼ˆåƒå‘å›¾ä¹¦é¦†æèµ æ–°ä¹¦ï¼‰
  async addBook(bookData) {
    const response = await fetch('/api/books', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(bookData)
    });
    // ç‰¹ç‚¹ï¼šåˆ›å»ºæ–°èµ„æºï¼Œæ¯æ¬¡æ‰§è¡Œéƒ½ä¼šåˆ›å»ºæ–°çš„
    // ä¸æ˜¯å¹‚ç­‰çš„ï¼ˆå¤šæ¬¡æ‰§è¡Œç»“æœä¸åŒï¼‰
    return response.json();
  }
  
  // PUTï¼šæ›´æ–°æ•´æœ¬å›¾ä¹¦ä¿¡æ¯ï¼ˆåƒé‡æ–°ç¼–å†™å›¾ä¹¦ä¿¡æ¯å¡ï¼‰
  async updateBook(bookId, completeBookData) {
    const response = await fetch(`/api/books/${bookId}`, {
      method: 'PUT',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(completeBookData)
    });
    // ç‰¹ç‚¹ï¼šå®Œæ•´æ›¿æ¢èµ„æºï¼Œéœ€è¦æä¾›æ‰€æœ‰å­—æ®µ
    // æ˜¯å¹‚ç­‰çš„ï¼ˆå¤šæ¬¡æ‰§è¡Œç»“æœç›¸åŒï¼‰
    return response.json();
  }
  
  // PATCHï¼šéƒ¨åˆ†æ›´æ–°å›¾ä¹¦ä¿¡æ¯ï¼ˆåƒä¿®æ”¹å›¾ä¹¦çš„æŸä¸ªä¿¡æ¯ï¼‰
  async updateBookPrice(bookId, newPrice) {
    const response = await fetch(`/api/books/${bookId}`, {
      method: 'PATCH',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ price: newPrice })
    });
    // ç‰¹ç‚¹ï¼šåªæ›´æ–°æŒ‡å®šå­—æ®µï¼Œå…¶ä»–å­—æ®µä¿æŒä¸å˜
    return response.json();
  }
  
  // DELETEï¼šåˆ é™¤å›¾ä¹¦ï¼ˆåƒä»å›¾ä¹¦é¦†ç§»é™¤å›¾ä¹¦ï¼‰
  async deleteBook(bookId) {
    const response = await fetch(`/api/books/${bookId}`, {
      method: 'DELETE'
    });
    // ç‰¹ç‚¹ï¼šåˆ é™¤èµ„æºï¼Œæ˜¯å¹‚ç­‰çš„
    // åˆ é™¤ä¸å­˜åœ¨çš„èµ„æºé€šå¸¸è¿”å›404æˆ–200
    return response.ok;
  }
}

// ğŸ§  è®°å¿†å£è¯€ï¼š
// "GETå–æ•°æ®ï¼ŒPOSTåˆ›å»ºæ–°ï¼ŒPUTå…¨æ›¿æ¢ï¼ŒPATCHæ”¹ä¸€ç‚¹ï¼ŒDELETEåˆ é™¤æ‰"

// âš ï¸ å¸¸è§é”™è¯¯é¢„è­¦ï¼š
// é”™è¯¯1ï¼šç”¨GETå‘é€æ•æ„Ÿæ•°æ®
// âŒ é”™è¯¯ï¼šå¯†ç ä¼šå‡ºç°åœ¨URLä¸­
fetch('/api/login?username=admin&password=123456');

// âœ… æ­£ç¡®ï¼šä½¿ç”¨POSTï¼Œæ•°æ®åœ¨è¯·æ±‚ä½“ä¸­
fetch('/api/login', {
  method: 'POST',
  body: JSON.stringify({ username: 'admin', password: '123456' })
});

// é”™è¯¯2ï¼šæ··æ·†PUTå’ŒPATCH
// âŒ é”™è¯¯ï¼šç”¨PUTåªæ›´æ–°ä¸€ä¸ªå­—æ®µï¼Œå¯èƒ½å¯¼è‡´å…¶ä»–å­—æ®µè¢«æ¸…ç©º
fetch('/api/users/123', {
  method: 'PUT',
  body: JSON.stringify({ email: 'new@example.com' })
  // å…¶ä»–å­—æ®µå¦‚nameã€ageå¯èƒ½è¢«æ¸…ç©ºï¼
});

// âœ… æ­£ç¡®ï¼šç”¨PATCHæ›´æ–°éƒ¨åˆ†å­—æ®µ
fetch('/api/users/123', {
  method: 'PATCH',
  body: JSON.stringify({ email: 'new@example.com' })
  // åªæ›´æ–°emailï¼Œå…¶ä»–å­—æ®µä¿æŒä¸å˜
});
```

### 1.2.3 HTTPçŠ¶æ€ç ï¼šæœåŠ¡å™¨çš„"å›å¤è¯­è¨€"

#### ğŸ“Š çŠ¶æ€ç ï¼šæœåŠ¡å™¨å‘Šè¯‰ä½ "åŠäº‹ç»“æœ"

> **ç”Ÿæ´»ç±»æ¯”**ï¼šHTTPçŠ¶æ€ç å°±åƒæ”¿åºœåŠäº‹å¤§å…çš„å›æ‰§å•ï¼Œå‘Šè¯‰ä½ åŠäº‹çš„ç»“æœï¼šæˆåŠŸäº†ã€éœ€è¦è¡¥ææ–™ã€æ‰¾é”™çª—å£äº†ã€è¿˜æ˜¯ç³»ç»Ÿæ•…éšœäº†ã€‚

```javascript
// ğŸ¯ çŠ¶æ€ç åˆ†ç±»å’Œå«ä¹‰ï¼š

const HTTP_STATUS_MEANINGS = {
  // 1xxï¼šä¿¡æ¯æ€§çŠ¶æ€ç ï¼ˆ"æ­£åœ¨å¤„ç†ä¸­..."ï¼‰
  100: "ç»§ç»­å‘é€è¯·æ±‚ä½“", // åƒé“¶è¡Œè¯´"è¯·ç»§ç»­å¡«å†™è¡¨æ ¼"
  101: "åè®®åˆ‡æ¢æˆåŠŸ", // åƒä»æ™®é€šçª—å£è½¬åˆ°VIPçª—å£
  
  // 2xxï¼šæˆåŠŸçŠ¶æ€ç ï¼ˆ"åŠæˆäº†ï¼"ï¼‰
  200: "è¯·æ±‚æˆåŠŸ",     // æœ€å¸¸è§ï¼Œåƒæ‹¿åˆ°äº†åŠäº‹ç»“æœ
  201: "èµ„æºåˆ›å»ºæˆåŠŸ", // åƒæˆåŠŸå¼€äº†æ–°è´¦æˆ·
  204: "æˆåŠŸä½†æ— å†…å®¹", // åƒåˆ é™¤æˆåŠŸï¼Œæ²¡æœ‰è¿”å›æ•°æ®
  
  // 3xxï¼šé‡å®šå‘çŠ¶æ€ç ï¼ˆ"è¯·åˆ°åˆ«å¤„åŠç†"ï¼‰
  301: "æ°¸ä¹…æ¬è¿",     // åƒé“¶è¡Œæ°¸ä¹…æ¬åˆ°æ–°åœ°å€
  302: "ä¸´æ—¶æ¬è¿",     // åƒé“¶è¡Œä¸´æ—¶åœ¨åˆ«å¤„åŠå…¬
  304: "å†…å®¹æœªä¿®æ”¹",   // åƒæŸ¥è¯¢ç»“æœå’Œä¸Šæ¬¡ä¸€æ ·
  
  // 4xxï¼šå®¢æˆ·ç«¯é”™è¯¯ï¼ˆ"ä½ çš„é—®é¢˜"ï¼‰
  400: "è¯·æ±‚æ ¼å¼é”™è¯¯", // åƒè¡¨æ ¼å¡«å†™æœ‰è¯¯
  401: "éœ€è¦èº«ä»½éªŒè¯", // åƒéœ€è¦å‡ºç¤ºèº«ä»½è¯
  403: "æƒé™ä¸è¶³",     // åƒVIPä¸šåŠ¡æ™®é€šç”¨æˆ·ä¸èƒ½åŠ
  404: "èµ„æºä¸å­˜åœ¨",   // åƒè¦åŠçš„ä¸šåŠ¡ä¸å­˜åœ¨
  405: "æ–¹æ³•ä¸å…è®¸",   // åƒåœ¨å–æ¬¾æœºä¸Šæƒ³å­˜é’±
  
  // 5xxï¼šæœåŠ¡å™¨é”™è¯¯ï¼ˆ"æˆ‘ä»¬çš„é—®é¢˜"ï¼‰
  500: "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯", // åƒé“¶è¡Œç³»ç»Ÿæ•…éšœ
  502: "ç½‘å…³é”™è¯¯",       // åƒé“¶è¡Œå’Œæ€»è¡Œè¿æ¥æœ‰é—®é¢˜
  503: "æœåŠ¡ä¸å¯ç”¨",     // åƒé“¶è¡Œä¸´æ—¶åœä¸šç»´æŠ¤
  504: "ç½‘å…³è¶…æ—¶"        // åƒé“¶è¡Œå¤„ç†å¤ªæ…¢è¶…æ—¶äº†
};

// ğŸŒŸ ç°å®åº”ç”¨åœºæ™¯ï¼šç”µå•†è´­ç‰©æµç¨‹

class ShoppingAPI {
  async handlePurchase(productId, quantity) {
    try {
      const response = await fetch('/api/purchase', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ productId, quantity })
      });
      
      // æ ¹æ®çŠ¶æ€ç å¤„ç†ä¸åŒæƒ…å†µ
      switch (response.status) {
        case 200:
          console.log("âœ… è´­ä¹°æˆåŠŸï¼");
          return await response.json();
          
        case 201:
          console.log("âœ… è®¢å•åˆ›å»ºæˆåŠŸï¼");
          return await response.json();
          
        case 400:
          console.log("âŒ è¯·æ±‚å‚æ•°æœ‰è¯¯ï¼Œè¯·æ£€æŸ¥å•†å“IDå’Œæ•°é‡");
          break;
          
        case 401:
          console.log("âŒ è¯·å…ˆç™»å½•");
          // è·³è½¬åˆ°ç™»å½•é¡µé¢
          window.location.href = '/login';
          break;
          
        case 403:
          console.log("âŒ æ‚¨æ²¡æœ‰è´­ä¹°æƒé™ï¼ˆå¯èƒ½æ˜¯VIPå•†å“ï¼‰");
          break;
          
        case 404:
          console.log("âŒ å•†å“ä¸å­˜åœ¨æˆ–å·²ä¸‹æ¶");
          break;
          
        case 409:
          console.log("âŒ åº“å­˜ä¸è¶³");
          break;
          
        case 500:
          console.log("âŒ æœåŠ¡å™¨é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•");
          break;
          
        case 503:
          console.log("âŒ æœåŠ¡æš‚æ—¶ä¸å¯ç”¨ï¼Œç³»ç»Ÿç»´æŠ¤ä¸­");
          break;
          
        default:
          console.log(`â“ æœªçŸ¥çŠ¶æ€ç ï¼š${response.status}`);
      }
      
    } catch (error) {
      console.log("âŒ ç½‘ç»œé”™è¯¯ï¼š", error.message);
    }
  }
}

// ğŸ§  è®°å¿†æŠ€å·§ï¼š
// "1å¼€å¤´åœ¨å¤„ç†ï¼Œ2å¼€å¤´æ˜¯æˆåŠŸï¼Œ3å¼€å¤´è¦è·³è½¬ï¼Œ4å¼€å¤´ä½ çš„é”™ï¼Œ5å¼€å¤´æˆ‘çš„é”™"

// ğŸ¯ çŠ¶æ€ç ä½¿ç”¨æœ€ä½³å®è·µï¼š
function createAPIResponse(data, statusCode = 200) {
  const responses = {
    200: { success: true, data, message: "æ“ä½œæˆåŠŸ" },
    201: { success: true, data, message: "åˆ›å»ºæˆåŠŸ" },
    400: { success: false, error: "è¯·æ±‚å‚æ•°é”™è¯¯" },
    401: { success: false, error: "æœªæˆæƒè®¿é—®" },
    404: { success: false, error: "èµ„æºä¸å­˜åœ¨" },
    500: { success: false, error: "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯" }
  };
  
  return {
    status: statusCode,
    body: responses[statusCode] || responses[500]
  };
}
```

### ğŸ”— çŸ¥è¯†å…³è”ç½‘ç»œå›¾

```mermaid
mindmap
  root((JavaScript & HTTPåŸºç¡€))
    JavaScriptè¯­è¨€åŸºç¡€
      å˜é‡å’Œæ•°æ®ç±»å‹
        ä¸ç¬¬2ç« TypeScriptç±»å‹ç³»ç»Ÿè¡”æ¥
      å‡½æ•°å’Œä½œç”¨åŸŸ
        ä¸ºç¬¬3ç« ä¾èµ–æ³¨å…¥æ¦‚å¿µåšå‡†å¤‡
      ES6+æ–°ç‰¹æ€§
        æ¨¡å—åŒ–æ€æƒ³è¿æ¥ç¬¬2ç« æ¨¡å—ç³»ç»Ÿ
    å¼‚æ­¥ç¼–ç¨‹
      Promise/async-await
        ä¸ºç¬¬1ç« æ¶æ„æ€ç»´ä¸­çš„å¼‚æ­¥å¤„ç†åšå‡†å¤‡
      é”™è¯¯å¤„ç†
        è¿æ¥ç¬¬7ç« é¡¹ç›®æ¶æ„ä¸­çš„é”™è¯¯å¤„ç†ç­–ç•¥
    HTTPåè®®
      è¯·æ±‚å“åº”æ¨¡å¼
        ä¸ºç¬¬4ç« APIè®¾è®¡å“²å­¦å¥ å®šåŸºç¡€
      çŠ¶æ€ç å’Œé”™è¯¯å¤„ç†
        è¿æ¥ç¬¬6ç« JWTè®¤è¯ä¸­çš„é”™è¯¯å“åº”
      RESTfulæ¦‚å¿µ
        ç›´æ¥æœåŠ¡äºç¬¬4ç« APIè®¾è®¡
```

---

## ğŸ“ å‰ç½®çŸ¥è¯†æ£€æŸ¥æ¸…å•

### âœ… JavaScriptåŸºç¡€
- [ ] ç†è§£å˜é‡å£°æ˜ï¼ˆletã€constã€varï¼‰å’Œæ•°æ®ç±»å‹
- [ ] æŒæ¡å‡½æ•°å®šä¹‰å’Œè°ƒç”¨æ–¹å¼
- [ ] ç†è§£ä½œç”¨åŸŸå’Œé—­åŒ…çš„åŸºæœ¬æ¦‚å¿µ
- [ ] æŒæ¡ES6+æ–°ç‰¹æ€§ï¼ˆæ¨¡æ¿å­—ç¬¦ä¸²ã€è§£æ„ã€å±•å¼€è¿ç®—ç¬¦ï¼‰
- [ ] ç†è§£å¼‚æ­¥ç¼–ç¨‹ï¼ˆPromiseã€async/awaitï¼‰
- [ ] èƒ½å¤Ÿä½¿ç”¨æ•°ç»„å’Œå¯¹è±¡çš„å¸¸ç”¨æ–¹æ³•

### âœ… HTTPåè®®åŸºç¡€
- [ ] ç†è§£HTTPåè®®çš„åŸºæœ¬æ¦‚å¿µå’Œä½œç”¨
- [ ] æŒæ¡å¸¸ç”¨HTTPè¯·æ±‚æ–¹æ³•ï¼ˆGETã€POSTã€PUTã€DELETEï¼‰
- [ ] ç†è§£HTTPçŠ¶æ€ç çš„å«ä¹‰å’Œåˆ†ç±»
- [ ] äº†è§£HTTPè¯·æ±‚å¤´å’Œå“åº”å¤´çš„ä½œç”¨
- [ ] èƒ½å¤Ÿä½¿ç”¨fetch APIå‘é€HTTPè¯·æ±‚

### âœ… Webå¼€å‘æ¦‚å¿µ
- [ ] ç†è§£å®¢æˆ·ç«¯-æœåŠ¡å™¨æ¶æ„æ¨¡å¼
- [ ] äº†è§£APIçš„åŸºæœ¬æ¦‚å¿µå’Œä½œç”¨
- [ ] ç†è§£è¯·æ±‚-å“åº”å¾ªç¯çš„å·¥ä½œåŸç†
- [ ] èƒ½å¤ŸåŒºåˆ†å‰ç«¯å’Œåç«¯çš„èŒè´£

### âœ… å¼€å‘å·¥å…·ä½¿ç”¨
- [ ] èƒ½å¤Ÿä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·
- [ ] æŒæ¡Networké¢æ¿ç›‘æ§HTTPè¯·æ±‚
- [ ] èƒ½å¤Ÿä½¿ç”¨æ§åˆ¶å°è¿›è¡ŒåŸºç¡€è°ƒè¯•
- [ ] äº†è§£æ–­ç‚¹è°ƒè¯•çš„åŸºæœ¬æ–¹æ³•

---

## ğŸ¯ å®è·µç»ƒä¹ 

### ç»ƒä¹ 1ï¼šJavaScriptåŸºç¡€ç»ƒä¹ 
**ç›®æ ‡**ï¼šå·©å›ºJavaScriptè¯­æ³•å’Œå¼‚æ­¥ç¼–ç¨‹

**åˆ†æ­¥éª¤æ“ä½œ**ï¼š
1. **åˆ›å»ºç”¨æˆ·ç®¡ç†å¯¹è±¡**
   ```javascript
   // ç¬¬ä¸€æ­¥ï¼šå®šä¹‰ç”¨æˆ·ç±»
   class User {
     constructor(name, email) {
       this.name = name;
       this.email = email;
       this.id = Date.now();
     }
   }
   
   // ç¬¬äºŒæ­¥ï¼šåˆ›å»ºç®¡ç†å™¨
   class UserManager {
     constructor() {
       this.users = [];
     }
     
     // æ·»åŠ ç”¨æˆ·
     addUser(name, email) {
       const user = new User(name, email);
       this.users.push(user);
       return user;
     }
   }
   ```

2. **ä½¿ç”¨Promiseæ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œ**
3. **ä½¿ç”¨async/awaité‡å†™å¼‚æ­¥ä»£ç **
4. **ç»ƒä¹ æ•°ç»„å’Œå¯¹è±¡çš„æ“ä½œæ–¹æ³•**

**å¸¸è§é”™è¯¯é¢„è­¦**ï¼š
- âš ï¸ å¿˜è®°ä½¿ç”¨`await`å…³é”®å­—
- âš ï¸ æ²¡æœ‰æ­£ç¡®å¤„ç†å¼‚æ­¥é”™è¯¯
- âš ï¸ æ··æ·†`let`å’Œ`const`çš„ä½¿ç”¨åœºæ™¯

### ç»ƒä¹ 2ï¼šHTTPè¯·æ±‚ç»ƒä¹ 
**ç›®æ ‡**ï¼šç†Ÿæ‚‰HTTPåè®®å’ŒAPIè°ƒç”¨

**ç°å®åœºæ™¯**ï¼šæ¨¡æ‹Ÿåœ¨çº¿ä¹¦åº—ç³»ç»Ÿ
1. **è·å–å›¾ä¹¦åˆ—è¡¨**ï¼ˆGETè¯·æ±‚ï¼‰
2. **æœç´¢å›¾ä¹¦**ï¼ˆGETè¯·æ±‚å¸¦å‚æ•°ï¼‰
3. **æ·»åŠ æ–°å›¾ä¹¦**ï¼ˆPOSTè¯·æ±‚ï¼‰
4. **æ›´æ–°å›¾ä¹¦ä¿¡æ¯**ï¼ˆPUT/PATCHè¯·æ±‚ï¼‰
5. **åˆ é™¤å›¾ä¹¦**ï¼ˆDELETEè¯·æ±‚ï¼‰

---

## ğŸ“š æ¨èå­¦ä¹ èµ„æº

### ğŸ“– åœ¨çº¿æ•™ç¨‹
1. **MDN Web Docs**ï¼šhttps://developer.mozilla.org/zh-CN/
   - JavaScriptæƒå¨å‚è€ƒæ–‡æ¡£
   - HTTPåè®®è¯¦ç»†è¯´æ˜

2. **ç°ä»£JavaScriptæ•™ç¨‹**ï¼šhttps://zh.javascript.info/
   - ä»åŸºç¡€åˆ°é«˜çº§çš„å®Œæ•´æ•™ç¨‹
   - åŒ…å«å¤§é‡å®ä¾‹å’Œç»ƒä¹ 

### ğŸ¥ è§†é¢‘æ•™ç¨‹
1. **JavaScriptåŸºç¡€æ•™ç¨‹**ï¼ˆæ¨èBç«™ï¼‰
2. **HTTPåè®®è¯¦è§£**
3. **æµè§ˆå™¨å¼€å‘è€…å·¥å…·ä½¿ç”¨æŒ‡å—**

### ğŸ› ï¸ å®è·µå¹³å°
1. **JSONPlaceholder**ï¼šhttps://jsonplaceholder.typicode.com/
   - å…è´¹çš„REST APIæµ‹è¯•æœåŠ¡
   - é€‚åˆç»ƒä¹ HTTPè¯·æ±‚

2. **CodePen**ï¼šhttps://codepen.io/
   - åœ¨çº¿ä»£ç ç¼–è¾‘å™¨
   - é€‚åˆJavaScriptç»ƒä¹ 

---

> **ğŸ¯ å‰ç½®çŸ¥è¯†å®Œæˆæ ‡å¿—**ï¼š
> 
> å½“æ‚¨èƒ½å¤Ÿï¼š
> 1. ç†Ÿç»ƒç¼–å†™JavaScriptä»£ç ï¼Œç†è§£å¼‚æ­¥ç¼–ç¨‹
> 2. ç†è§£HTTPåè®®ï¼Œèƒ½å¤Ÿå‘é€å„ç§HTTPè¯·æ±‚
> 3. æŒæ¡åŸºæœ¬çš„Webå¼€å‘æ¦‚å¿µ
> 4. èƒ½å¤Ÿä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·è¿›è¡Œè°ƒè¯•
> 
> æ­å–œæ‚¨å·²ç»å…·å¤‡äº†å­¦ä¹ ç¬¬1ç« ã€Šåç«¯æ¶æ„æ€ç»´å¯¼å¼•ã€‹çš„åŸºç¡€æ¡ä»¶ï¼

---

**ä¸‹ä¸€æ­¥**ï¼šå®Œæˆå‰ç½®çŸ¥è¯†å­¦ä¹ åï¼Œæ‚¨å°±å¯ä»¥å¼€å§‹ç¬¬1ç« çš„æ­£å¼å­¦ä¹ äº†ã€‚ç¬¬1ç« å°†åœ¨è¿™äº›åŸºç¡€çŸ¥è¯†ä¹‹ä¸Šï¼Œæ·±å…¥æ¢è®¨åç«¯æ¶æ„çš„è®¾è®¡æ€ç»´å’Œæ ¸å¿ƒåŸåˆ™ã€‚ 